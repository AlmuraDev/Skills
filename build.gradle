import org.apache.tools.ant.filters.ReplaceTokens

plugins {
    id 'org.spongepowered.plugin' version '0.8.1'
    id 'net.minecrell.licenser' version '0.3'
}

group = project.group
version = project.version
description = project.description

defaultTasks 'clean', 'licenseFormat', 'build'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'
archivesBaseName = project.name.toLowerCase()

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        name = 'oss-sonatype-public'
        url = 'https://oss.sonatype.org/content/repositories/public/'
    }
    maven {
        name = 'sponge'
        url = 'http://repo.spongepowered.org/maven'
    }
}

dependencies {
    compile "com.almuradev:droplet:${project.dropletVersion}"
    compile "com.almuradev:toolbox:${project.toolboxVersion}"
    compile "org.spongepowered:spongeapi:${project.spongeAPIVersion}"
    compile "net.objecthunter:exp4j:${project.expVersion}"
    compile "org.jooq:jooq:${project.jooqVersion}"
    compile "org.jooq:jooq-meta:${project.jooqVersion}"
    compile "org.jooq:jooq-codegen:${project.jooqVersion}"
}

license {
    header project.file('header.txt')
    include '**/*.java'
    newLine false
}

processResources {
    filesMatching('**/mcmod.info') {
        filter ReplaceTokens, tokens: [
                'version': project.version
        ]
    }
}
